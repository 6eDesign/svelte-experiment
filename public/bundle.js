var app=function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function i(t,e){return 0===e&&t(),function(){--e||t()}}function o(t){t()}function s(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function c(t){t.parentNode.removeChild(t)}function a(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(){return document.createDocumentFragment()}function l(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return document.createComment("")}function h(t,e,n,i){t.addEventListener(e,n,i)}function v(t,e,n,i){t.removeEventListener(e,n,i)}function _(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){t.data=""+e}function g(t,e){for(var n=0;n<t.options.length;n+=1){var i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function b(t,e,n){t.classList.toggle(e,!!n)}function w(t,n){var i,o,s=n.token={};function r(t,i,o,r){var c;if(n.token===s){n.resolved=o&&((c={})[o]=r,c);var a=e(e({},n.ctx),n.resolved),u=t&&(n.current=t)(n.component,a);n.block&&(n.blocks?n.blocks.forEach(function(t,e){e!==i&&t&&t.o(function(){t.d(1),n.blocks[e]=null})}):n.block.d(1),u.c(),u[u.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=u,n.blocks&&(n.blocks[i]=u)}}if((o=t)&&"function"==typeof o.then){if(t.then(function(t){r(n.then,1,n.value,t)},function(t){r(n.catch,2,n.error,t)}),n.current!==n.pending)return r(n.pending,0),!0}else{if(n.current!==n.then)return r(n.then,1,n.value,t),!0;n.resolved=((i={})[n.value]=t,i)}}function y(t,e){t.d(1),e[t.key]=null}function q(t,e){t.o(function(){y(t,e)})}function x(t,e,n,i,o,s,r,c,a,u,f,l,d,p){for(var h=t.length,v=r.length,_=h,m={};_--;)m[t[_].key]=_;var g=[],b={},w={};for(_=v;_--;){var y=p(s,r,_),q=i(y),x=c[q];x?o&&x.p(n,y):(x=f(e,q,y)).c(),g[_]=b[q]=x,q in m&&(w[q]=Math.abs(_-m[q]))}var k={},L={};function S(t){t[l](a,d),c[t.key]=t,d=t.first,v--}for(;h&&v;){var C=g[v-1],I=t[h-1],N=C.key,D=I.key;C===I?(d=C.first,h--,v--):b[D]?!c[N]||k[N]?S(C):L[D]?h--:w[N]>w[D]?(L[N]=!0,S(C)):(k[D]=!0,h--):(u(I,c),h--)}for(;h--;){b[(I=t[h]).key]||u(I,c)}for(;v;)S(g[v-1]);return g}function k(){return Object.create(null)}function L(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function S(t,e){return t!=t?e==e:t!==e}function C(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var o=n[i];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function I(t){t._lock=!0,T(t._beforecreate),T(t._oncreate),T(t._aftercreate),t._lock=!1}function N(){return this._state}function D(t,e){t._handlers=k(),t._slots=k(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function E(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function T(t){for(;t&&t.length;)t.shift()()}function j(){this.store._remove(this)}var P={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:N,fire:C,on:E,set:function(t){this._set(e({},t)),this.root._lock||I(this.root)},_recompute:t,_set:function(t){var n=this._state,i={},o=!1;for(var s in t=e(this._staged,t),this._staged={},t)this._differs(t[s],n[s])&&(i[s]=o=!0);o&&(this._state=e(e({},n),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:n}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:L};function O(t,n){this._handlers={},this._dependents=[],this._computed=k(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?S:L}e(O.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n];e["$"+i]=this._state[i]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,n){var i=this,o=this._state;this._state=e(e({},o),t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,n);this.fire("state",{changed:n,previous:o,current:this._state}),this._dependents.filter(function(t){for(var e={},o=!1,s=0;s<t.props.length;s+=1){var r=t.props[s];r in n&&(e["$"+r]=i._state[r],o=!0)}if(o)return t.component._stage(e),!0}).forEach(function(t){t.component.set({})}),this.fire("update",{changed:n,previous:o,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],i=k();function o(s){var r=e[s];r&&(r.deps.forEach(function(e){if(e===t)throw new Error("Cyclical dependency detected between "+e+" <-> "+s);o(e)}),i[s]||(i[s]=!0,n.push(r)))}for(var s in this._computed)o(t=s)},compute:function(t,n,i){var o,s=this,r={deps:n,update:function(e,r,c){var a=n.map(function(t){return t in r&&(c=!0),e[t]});if(c){var u=i.apply(null,a);s._differs(u,o)&&(o=u,r[t]=!0,e[t]=o)}}};this._computed[t]=r,this._sortComputedProperties();var c=e({},this._state),a={};r.update(c,a,!0),this._set(c,a)},fire:C,get:N,on:E,set:function(t){var e=this._state,n=this._changed={},i=!1;for(var o in t){if(this._computed[o])throw new Error("'"+o+"' is a read-only computed property");this._differs(t[o],e[o])&&(n[o]=i=!0)}i&&this._set(t,n)}});var V=function(t){var e=t.step;t.section;return e.type,!e.required||""!=e.value},$={info:{get:function(t){return fetch("/data/taskInfo.json")}},sections:[{id:"basicLocation",component:"Location",steps:[{id:"unknownUserLocationCard",fields:[{type:"postalCode",id:"locationCardPostalCode",placeholder:"Enter Zip Code",value:""}]}]},{id:"taskInterviewPageOne",component:"Question",componentOptions:{page:1},preload:!0,get:function(t){return fetch("/data/interview-page-one.json")},validate:V},{id:"taskInterviewPageTwo",component:"Question",componentOptions:{page:2},get:function(t){return fetch("/data/interview-page-two.json")},validate:V},{id:"contactSubmit",component:"ContactSubmit",steps:[{id:"contactSubmitOne",heading:"Give me your name...",fields:[{type:"text",placeholder:"First Name",label:"First Name",id:"firstName",value:"Jon"},{type:"text",placeholder:"Last Name",label:"Last Name",id:"lastName",value:"Greenemeier"}]},{id:"contactSubmitTwo",heading:"Give me your addy...",fields:[{type:"text",placeholder:"Street Address",label:"Street Address",id:"addressLine1",value:"1882 E 104th Ave"},{type:"text",placeholder:"City",label:"City",id:"city",value:"Denver"},{type:"postalCode",placeholder:"Zip Code",label:"Zip Code",id:"csPostalCode",value:"80233"}]},{id:"contactSubmitThree",heading:"Give me your deets...",fields:[{type:"phone",placeholder:"Phone",label:"Phone",id:"phone",value:"7203492738"},{type:"email",placeholder:"Email",label:"Email",id:"email",value:"jgrkj23kj@edify.com"}]}]}]};window.config=$;var F=function(t){return function(e){return t.forEach(function(t,n){t.steps=e[n]}),t}},A=function(t){return function(e){return Object.keys(t).forEach(function(n){return e[n]=e.hasOwnProperty(n)?e[n]:t[n]}),e}},G=A({steps:[]}),M=A({isLoading:!1,isValid:!0,isVisible:!1}),Z=function(t){return t.sections.forEach(function(t){return G(t).steps.forEach(M)})},z=function(t){return t.isVisible=!0},Q=function(){return $.sections[0].steps[0]},B=function(t){var e=t.step;return t.section.steps.findIndex(function(t){return t.id==e.id})},H=function(t){return new Promise(function(e,n){var i,o=(i=t,$.sections.findIndex(function(t){return t.id===i.id}));if(-1==o)return n("Section not found");var s=$.sections[o+1];"function"==typeof s.get&&0==s.steps.length?(console.log("fetching next section"),function(t){return t.get($).then(function(t){return t.json()}).then(function(e){return e.forEach(M),t.steps=e,t})}(s).then(e).catch(n)):e($.sections[o+1])})};var J=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.stepSubmitted=function(t){var e=this,n=t.step,i=t.section,o=function(t){var e=t.step,n=t.section;return"function"!=typeof n.validate||n.validate({step:e,section:n})}({step:n,section:i}),s="function"==typeof o.then;if(!s)return this.validityDetermined({step:n,section:i,isAsync:s,isValid:o});this.setLoading({step:n,loading:!0}),o.then(function(t){e.setLoading({step:n,loading:!1}),e.validityDetermined({step:n,section:i,isAsync:s,isValid:t})})},e.prototype.validityDetermined=function(t){var e=t.step,n=t.section,i=t.isValid;t.isAsync;if(i)return this.validStepSubmitted({step:e,section:n});this.invalidStepSubmitted({step:e,section:n})},e.prototype.validStepSubmitted=function(t){var e=this;(function(t){var e=t.step,n=t.section;return new Promise(function(t,i){var o=B({step:e,section:n});if(-1==o)return i("Step not found");o+1>=n.steps.length?H(n).then(function(e){t(e.steps[0])}).catch(i):t(n.steps[o+1])})})({step:t.step,section:t.section}).then(function(t){e.setVisible({step:t,visibility:!0}).presentStep({step:t})}).catch(this.catastrophicError)},e.prototype.invalidStepSubmitted=function(t){t.step,t.section},e.prototype.presentStep=function(t){var e=t.step;return this.set({currentStep:e.id}),window.scroll({top:document.querySelector('.scroll-section[data-id="'+e.id+'"]').offsetTop,left:0,behavior:"smooth"}),this},e.prototype.setVisible=function(t){var e=t.step,n=t.visibility;return e.isVisible=n,this.commitInterview()},e.prototype.setLoading=function(t){var e=t.step,n=t.loading;return this.get().interview.isLoading=n,e.isLoading=n,this.commitInterview()},e.prototype.commitInterview=function(){var t=this.get().interview;return this.set({interview:t}),this},e.prototype.catastrophicError=function(t){console.log("oh nose",t)},e}(O))({currentStep:null,interview:null,interviewPromise:function(t){var e=$.sections.filter(function(t){return t.hasOwnProperty("get")&&t.preload});$.info.get&&e.push($.info);var n=e.map(function(t){return t.get()});return Promise.all(n).then(function(t){return Promise.all(t.map(function(t){return t.json()}))}).then(F(e)).then(function(){return Z($),z(Q()),$})}().then(function(t){J.set({interview:t})})});window.config=$;function R(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,u,f,_,m,g,w,y,q,x,k,L,S,C,I,N,D,E=t._slotted.heading,T=t._slotted.body,j=t._slotted.footer;function P(e){t.handleSubmit(e)}return{c:function(){n=l("div"),i=l("form"),u=l("div"),f=l("div"),E||((_=l("div")).textContent="Heading"),m=d("\n      "),T||((y=l("div")).textContent="Body"),q=d("\n      "),x=l("div"),j||((k=l("a")).textContent="Previous",L=d("\n          "),(S=l("button")).textContent="Next"),C=d("\n    "),(I=l("div")).innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 612 792" enable-background="new 0 0 612 792" xml:space="preserve" class="svelte-pvl5ol"><g class="svelte-pvl5ol"><path d="M404.5,478.3c-8.1-10.5-23.4-12.6-33.6-4.2c-17.6,14.6-40.1,23.5-64.8,23.5c-49.3,0-90.3-35.1-99.6-81.7l34.6-3.1\n\t\t\t            c2.6-0.2,3.9-3.2,2.3-5.3l-31.2-40.6l-31.7-41.3c-1.5-1.9-4.5-1.7-5.6,0.5l-23.8,46.2l-23.4,45.5c-1.2,2.3,0.6,5,3.2,4.8l27.5-2.5\n\t\t\t            c11.6,71.1,73.1,125.5,147.5,125.5c36.2,0,69.2-12.9,95.1-34.3c9.8-8.1,11.3-22.6,3.6-32.7L404.5,478.3z"></path><path d="M480.9,369.3l-27.5,2.5c-11.6-71.1-73.1-125.5-147.5-125.5c-36.2,0-69.2,12.9-95.1,34.3c-9.8,8.1-11.3,22.6-3.6,32.7\n\t\t\t            l0.3,0.4c8.1,10.5,23.4,12.6,33.6,4.2c17.6-14.6,40.1-23.5,64.8-23.5c49.3,0,90.3,35.1,99.6,81.7l-34.6,3.1\n\t\t\t            c-2.6,0.2-3.9,3.2-2.3,5.3l31.2,40.6l31.7,41.3c1.5,1.9,4.5,1.7,5.6-0.5l23.8-46.2l23.4-45.5C485.3,371.8,483.5,369.1,480.9,369.3z\n\t\t\t            "></path></g></svg>',f.className="card-heading svelte-pvl5ol",j||(k.href="/previous-step",S.type="submit",S.className="bs-btn"),x.className="card-footer svelte-pvl5ol",u.className="card-section svelte-pvl5ol",I.className="loading-section svelte-pvl5ol",b(I,"visible",e.step.isLoading),h(i,"submit",P),i.className="bs-card white svelte-pvl5ol",n.className="scroll-section svelte-pvl5ol",n.dataset.id=N=e.step.id,b(n,"visible",e.step.isVisible)},m:function(t,e){r(t,n,e),s(n,i),s(i,u),s(u,f),s(f,E||_),s(u,m),T?(s(u,g||(g=p())),s(u,T),s(u,w||(w=p()))):s(u,y),s(u,q),s(u,x),j?s(x,j):(s(x,k),s(x,L),s(x,S)),s(i,C),s(i,I),D=!0},p:function(t,e){t.step&&b(I,"visible",e.step.isLoading),t.step&&N!==(N=e.step.id)&&(n.dataset.id=N),t.step&&b(n,"visible",e.step.isVisible)},i:function(t,e){D||this.m(t,e)},o:o,d:function(t){t&&c(n),E&&a(f,E),T&&(function(t,e,n){for(;t.nextSibling&&t.nextSibling!==e;)n.appendChild(t.parentNode.removeChild(t.nextSibling))}(g,w,T),c(g),c(w)),j&&a(x,j),v(i,"submit",P)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}e(R.prototype,P),e(R.prototype,{handleSubmit:function(t){t.preventDefault();var e=this.get(),n=e.step,i=e.section;this.store.stepSubmitted({step:n,section:i})}});var U={lookupZip:function(){console.log("lookup zip",this.get())}};function W(t){this._svelte.component.lookupZip()}function K(t,e,n){var i=Object.create(t);return i.field=e[n],i.each_value=e,i.field_index=n,i}function X(t,e){var n,i,o,s,a,u,f=!1;function p(){f=!0,e.each_value[e.field_index].value=s.value,t.set({step:e.step}),f=!1}return{c:function(){n=l("label"),o=d("\n      "),s=l("input"),n.htmlFor=i=e.field.id,s._svelte={component:t,ctx:e},h(s,"input",p),h(s,"keyup",W),s.id=a=e.field.id,_(s,"type","text"),s.placeholder=u=e.field.placeholder,s.className="svelte-1ehrgvi"},m:function(t,i){r(t,n,i),r(t,o,i),r(t,s,i),s.value=e.field.value},p:function(t,o){e=o,t.step&&i!==(i=e.field.id)&&(n.htmlFor=i),s._svelte.ctx=e,!f&&t.step&&(s.value=e.field.value),t.step&&a!==(a=e.field.id)&&(s.id=a),t.step&&u!==(u=e.field.placeholder)&&(s.placeholder=u)},d:function(t){t&&(c(n),c(o),c(s)),v(s,"input",p),v(s,"keyup",W)}}}function Y(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,i,o,r,c,a,p={},h=e.step.fields,v=[],m=0;m<h.length;m+=1)v[m]=X(t,K(e,h,m));var g={};void 0!==e.step&&(g.step=e.step,p.step=!0),void 0!==e.section&&(g.section=e.section,p.section=!0);var b=new R({root:t.root,store:t.store,slots:{default:f(),footer:f(),body:f(),heading:f()},data:g,_bind:function(e,n){var i={};!p.step&&e.step&&(i.step=n.step),!p.section&&e.section&&(i.section=n.section),t._set(i),p={}}});return t.root._beforecreate.push(function(){b._bind({step:1,section:1},b.get())}),{c:function(){(n=l("div")).textContent="What is your location?",i=d("\n  "),o=l("div");for(var t=0;t<v.length;t+=1)v[t].c();r=d("\n  "),(c=l("div")).innerHTML='<button type="submit" class="bs-btn">Next</button>',b._fragment.c(),_(n,"slot","heading"),_(o,"slot","body"),_(c,"slot","footer")},m:function(t,e){s(b._slotted.heading,n),s(b._slotted.default,i),s(b._slotted.body,o);for(var u=0;u<v.length;u+=1)v[u].m(o,null);s(b._slotted.default,r),s(b._slotted.footer,c),b._mount(t,e),a=!0},p:function(n,i){if(e=i,n.step){h=e.step.fields;for(var s=0;s<h.length;s+=1){var r=K(e,h,s);v[s]?v[s].p(n,r):(v[s]=X(t,r),v[s].c(),v[s].m(o,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=h.length}var c={};!p.step&&n.step&&(c.step=e.step,p.step=void 0!==e.step),!p.section&&n.section&&(c.section=e.section,p.section=void 0!==e.section),b._set(c),p={}},i:function(t,e){a||this.m(t,e)},o:function(t){a&&(b&&b._fragment.o(t),a=!1)},d:function(t){u(v,t),b.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}function tt(t,e,n){var i=Object.create(t);return i.answerID=e[n].answerID,i.answerText=e[n].answerText,i}function et(t,e,n){var i,o,a,u,f,p,g,b,w,y,q=n.answerText;function x(){n.question.value=o.__value,t.set({question:n.question})}return{key:e,first:null,c:function(){i=l("div"),o=l("input"),p=d("\n\t\t"),g=l("label"),b=d(q),y=d("\n\t"),t._bindingGroups[0].push(o),h(o,"change",x),_(o,"type","radio"),o.id=a="answer_"+n.answerID,o.__value=u="answer_"+n.answerID,o.value=o.__value,o.name=f="radio_"+n.question.questionID,g.htmlFor=w="answer_"+n.answerID,g.className="svelte-1v9dpan",this.first=i},m:function(t,e){r(t,i,e),s(i,o),o.checked=o.__value===n.question.value,s(i,p),s(i,g),s(g,b),s(i,y)},p:function(t,e){n=e,t.question&&(o.checked=o.__value===n.question.value),t.question&&a!==(a="answer_"+n.answerID)&&(o.id=a),t.question&&u!==(u="answer_"+n.answerID)&&(o.__value=u),o.value=o.__value,t.question&&f!==(f="radio_"+n.question.questionID)&&(o.name=f),t.question&&q!==(q=n.answerText)&&m(b,q),t.question&&w!==(w="answer_"+n.answerID)&&(g.htmlFor=w)},d:function(e){e&&c(i),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(o),1),v(o,"change",x)}}}function nt(t){D(this,t),this._state=e({},t.data),this._bindingGroups=[[]],this._intro=!!t.intro,this._fragment=function(t,e){for(var n,i,s=[],a=k(),u=e.question.answerElements,f=function(t){return t.answerID},l=0;l<u.length;l+=1){var d=tt(e,u,l),h=f(d);s[l]=a[h]=et(t,h,d)}return{c:function(){for(l=0;l<s.length;l+=1)s[l].c();n=p()},m:function(t,e){for(l=0;l<s.length;l+=1)s[l].m(t,e);r(t,n,e),i=!0},p:function(e,i){var o=i.question.answerElements;s=x(s,t,e,f,1,i,o,a,n.parentNode,y,et,"m",n,tt)},i:function(t,e){i||this.m(t,e)},o:o,d:function(t){for(l=0;l<s.length;l+=1)s[l].d(t);t&&c(n)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}e(Y.prototype,P),e(Y.prototype,U),e(nt.prototype,P);function it(t){var e=this._svelte,n=e.component,i=e.ctx;n.updateValue(i.question)}function ot(t,e,n){var i=Object.create(t);return i.answerID=e[n].answerID,i.answerText=e[n].answerText,i.checked=e[n].checked,i.each_value=e,i.each_index=n,i}function st(t,e){var n,i,o,a,u,f,p,g,b,w=e.answerText;function y(){e.each_value[e.each_index].checked=i.checked,t.set({question:e.question})}return{c:function(){n=l("div"),i=l("input"),u=d("\n    "),f=l("label"),p=d(w),b=d("\n  "),i._svelte={component:t,ctx:e},h(i,"change",y),h(i,"change",it),_(i,"type","checkbox"),i.id=o=e.answerID,i.__value=a=e.answerID,i.value=i.__value,f.htmlFor=g=e.answerID,f.className="svelte-16k26kd"},m:function(t,o){r(t,n,o),s(n,i),i.checked=e.checked,s(n,u),s(n,f),s(f,p),s(n,b)},p:function(t,n){e=n,i._svelte.ctx=e,t.question&&(i.checked=e.checked),t.question&&o!==(o=e.answerID)&&(i.id=o),t.question&&a!==(a=e.answerID)&&(i.__value=a),i.value=i.__value,t.question&&w!==(w=e.answerText)&&m(p,w),t.question&&g!==(g=e.answerID)&&(f.htmlFor=g)},d:function(t){t&&c(n),v(i,"change",y),v(i,"change",it)}}}function rt(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,i,s=e.question.answerElements,a=[],f=0;f<s.length;f+=1)a[f]=st(t,ot(e,s,f));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=p()},m:function(t,e){for(var o=0;o<a.length;o+=1)a[o].m(t,e);r(t,n,e),i=!0},p:function(e,i){if(e.question){s=i.question.answerElements;for(var o=0;o<s.length;o+=1){var r=ot(i,s,o);a[o]?a[o].p(e,r):(a[o]=st(t,r),a[o].c(),a[o].m(n.parentNode,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},i:function(t,e){i||this.m(t,e)},o:o,d:function(t){u(a,t),t&&c(n)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}function ct(t,e,n){var i=Object.create(t);return i.answerID=e[n].answerID,i.answerText=e[n].answerText,i}function at(t,e){var n,i,o,a,u=e.answerText;return{c:function(){n=l("option"),i=d(u),o=d("\n\t\t"),n.__value=a=e.answerID,n.value=n.__value},m:function(t,e){r(t,n,e),s(n,i),s(n,o)},p:function(t,e){t.question&&u!==(u=e.answerText)&&m(i,u),t.question&&a!==(a=e.answerID)&&(n.__value=a),n.value=n.__value},d:function(t){t&&c(n)}}}function ut(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,i,s,a=!1,f=e.question.answerElements,d=[],p=0;p<f.length;p+=1)d[p]=at(0,ct(e,f,p));function _(){a=!0,e.question.value=function(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(n),t.set({question:e.question}),a=!1}return{c:function(){n=l("select");for(var o=0;o<d.length;o+=1)d[o].c();h(n,"change",_),"question"in e||t.root._beforecreate.push(_),n.id=i=e.question.questionId},m:function(t,i){r(t,n,i);for(var o=0;o<d.length;o+=1)d[o].m(n,null);g(n,e.question.value),s=!0},p:function(t,o){if(e=o,t.question){f=e.question.answerElements;for(var s=0;s<f.length;s+=1){var r=ct(e,f,s);d[s]?d[s].p(t,r):(d[s]=at(0,r),d[s].c(),d[s].m(n,null))}for(;s<d.length;s+=1)d[s].d(1);d.length=f.length}!a&&t.question&&g(n,e.question.value),t.question&&i!==(i=e.question.questionId)&&(n.id=i)},i:function(t,e){s||this.m(t,e)},o:o,d:function(t){t&&c(n),u(d,t),v(n,"change",_)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}function ft(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,i,s,a=!1;function u(){a=!0,e.question.value=n.value,t.set({question:e.question}),a=!1}return{c:function(){h(n=l("input"),"input",u),_(n,"type","text"),n.placeholder=i=e.question.placeholder},m:function(t,i){r(t,n,i),n.value=e.question.value,s=!0},p:function(t,o){e=o,!a&&t.question&&(n.value=e.question.value),t.question&&i!==(i=e.question.placeholder)&&(n.placeholder=i)},i:function(t,e){s||this.m(t,e)},o:o,d:function(t){t&&c(n),v(n,"input",u)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}e(rt.prototype,P),e(rt.prototype,{updateValue:function(t){t.value=t.answerElements.filter(function(t){return t.checked}).map(function(t){return t.answerID}).join(", "),this.set({question:t})}}),e(ut.prototype,P),e(ft.prototype,P);function lt(t){var e=t.changed,n=t.current;e.step&&this.set({step:n.step})}function dt(t){var o=this;D(this,t),this._state=e({templates:{Select:ut,Checkbox:rt,Radio:nt,Text:ft}},t.data),this._intro=!!t.intro,this._handlers.state=[lt],lt.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,r,c,a,u,p=e.step.questionText,h={},v={},g=e.templates[e.step.presentationType];function b(e){var n={name:"Question"};return void 0!==e.step&&(n.question=e.step,h.question=!0),void 0!==e.interview&&(n.interview=e.interview,h.interview=!0),{root:t.root,store:t.store,data:n,_bind:function(e,n){var i={};!h.question&&e.question&&(i.step=n.question),!h.interview&&e.interview&&(i.interview=n.interview),t._set(i),h={}}}}if(g){var w=new g(b(e));t.root._beforecreate.push(function(){w._bind({question:1,interview:1},w.get())})}var y={};void 0!==e.step&&(y.step=e.step,v.step=!0),void 0!==e.section&&(y.section=e.section,v.section=!0);var q=new R({root:t.root,store:t.store,slots:{default:f(),body:f(),heading:f()},data:y,_bind:function(e,n){var i={};!v.step&&e.step&&(i.step=n.step),!v.section&&e.section&&(i.section=n.section),t._set(i),v={}}});return t.root._beforecreate.push(function(){q._bind({step:1,section:1},q.get())}),{c:function(){n=l("div"),o=d(p),r=d("\n  "),c=l("div"),a=l("div"),w&&w._fragment.c(),q._fragment.c(),_(n,"slot","heading"),a.className="answers-block svelte-1tqai3f",_(c,"slot","body")},m:function(t,e){s(q._slotted.heading,n),s(n,o),s(q._slotted.default,r),s(q._slotted.body,c),s(c,a),w&&w._mount(a,null),q._mount(t,e),u=!0},p:function(n,i){e=i,u&&!n.step||p===(p=e.step.questionText)||m(o,p);var s={};if(!h.question&&n.step&&(s.question=e.step,h.question=void 0!==e.step),!h.interview&&n.interview&&(s.interview=e.interview,h.interview=void 0!==e.interview),g!==(g=e.templates[e.step.presentationType])){if(w){var r=w;r._fragment.o(function(){r.destroy()})}g?(w=new g(b(e)),t.root._beforecreate.push(function(){var t={};void 0===e.step&&(t.question=1),void 0===e.interview&&(t.interview=1),w._bind(t,w.get())}),w._fragment.c(),w._mount(a,null)):w=null}else g&&(w._set(s),h={});var c={};!v.step&&n.step&&(c.step=e.step,v.step=void 0!==e.step),!v.section&&n.section&&(c.section=e.section,v.section=void 0!==e.section),q._set(c),v={}},i:function(t,e){u||this.m(t,e)},o:function(t){u&&(t=i(t,2),w&&w._fragment.o(t),q&&q._fragment.o(t),u=!1)},d:function(t){w&&w.destroy(),q.destroy(t)}}}(this,this._state),this.root._oncreate.push(function(){o.fire("update",{changed:n({},o._state),current:o._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}function pt(t,e,n){var i=Object.create(t);return i.id=e[n].id,i.label=e[n].label,i.placeholder=e[n].placeholder,i.type=e[n].type,i}function ht(t,e){var n,i,o,a,u,f,p,h,v,g,b=e.label;return{c:function(){n=l("div"),i=l("label"),o=d(b),u=d("\n        "),f=l("input"),g=d("\n      "),i.htmlFor=a=e.id,_(f,"type",p=e.type),f.id=h=e.id,f.placeholder=v=e.placeholder,n.className="bs-form-group"},m:function(t,e){r(t,n,e),s(n,i),s(i,o),s(n,u),s(n,f),s(n,g)},p:function(t,e){t.step&&b!==(b=e.label)&&m(o,b),t.step&&a!==(a=e.id)&&(i.htmlFor=a),t.step&&p!==(p=e.type)&&_(f,"type",p),t.step&&h!==(h=e.id)&&(f.id=h),t.step&&v!==(v=e.placeholder)&&(f.placeholder=v)},d:function(t){t&&c(n)}}}function vt(t){D(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,i,o,r,c,a=e.step.heading,p={},h=e.step.fields,v=[],g=0;g<h.length;g+=1)v[g]=ht(0,pt(e,h,g));var b={};void 0!==e.step&&(b.step=e.step,p.step=!0),void 0!==e.section&&(b.section=e.section,p.section=!0);var w=new R({root:t.root,store:t.store,slots:{default:f(),body:f(),heading:f()},data:b,_bind:function(e,n){var i={};!p.step&&e.step&&(i.step=n.step),!p.section&&e.section&&(i.section=n.section),t._set(i),p={}}});return t.root._beforecreate.push(function(){w._bind({step:1,section:1},w.get())}),{c:function(){n=l("div"),i=d(a),o=d("\n  "),r=l("div");for(var t=0;t<v.length;t+=1)v[t].c();w._fragment.c(),_(n,"slot","heading"),_(r,"slot","body")},m:function(t,e){s(w._slotted.heading,n),s(n,i),s(w._slotted.default,o),s(w._slotted.body,r);for(var a=0;a<v.length;a+=1)v[a].m(r,null);w._mount(t,e),c=!0},p:function(t,n){if(e=n,c&&!t.step||a===(a=e.step.heading)||m(i,a),t.step){h=e.step.fields;for(var o=0;o<h.length;o+=1){var s=pt(e,h,o);v[o]?v[o].p(t,s):(v[o]=ht(0,s),v[o].c(),v[o].m(r,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=h.length}var u={};!p.step&&t.step&&(u.step=e.step,p.step=void 0!==e.step),!p.section&&t.section&&(u.section=e.section,p.section=void 0!==e.section),w._set(u),p={}},i:function(t,e){c||this.m(t,e)},o:function(t){c&&(w&&w._fragment.o(t),c=!1)},d:function(t){u(v,t),w.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}function _t(t,e,n){var i=Object.create(t);return i.step=e[n],i.each_value=e,i.step_index=n,i}function mt(t,e,n){var i,o,s,a={},u=n.templates[n.section.component];function f(e){var n={};return void 0!==e.step.isLoading&&(n.isLoading=e.step.isLoading,a.isLoading=!0),void 0!==e.step&&(n.step=e.step,a.step=!0),void 0!==e.section&&(n.section=e.section,a.section=!0),{root:t.root,store:t.store,data:n,_bind:function(n,i){var o={};!a.isLoading&&n.isLoading&&(e.step.isLoading=i.isLoading,o.section=e.section),!a.step&&n.step&&(e.each_value[e.step_index]=i.step=i.step,o.section=e.section),!a.section&&n.section&&(o.section=i.section),t._set(o),a={}}}}if(u){var l=new u(f(n));t.root._beforecreate.push(function(){l._bind({isLoading:1,step:1,section:1},l.get())})}function d(e){t.fire("stepSubmitted",e)}return l&&l.on("stepSubmitted",d),{key:e,first:null,c:function(){i=p(),l&&l._fragment.c(),o=p(),this.first=i},m:function(e,n){r(e,i,n),l&&(l._mount(e,n),t.refs.component=l),r(e,o,n),s=!0},p:function(e,i){n=i;var s={};if(!a.isLoading&&e.section&&(s.isLoading=n.step.isLoading,a.isLoading=void 0!==n.step.isLoading),!a.step&&e.section&&(s.step=n.step,a.step=void 0!==n.step),!a.section&&e.section&&(s.section=n.section,a.section=void 0!==n.section),u!==(u=n.templates[n.section.component])){if(l){var r=l;r._fragment.o(function(){r.destroy()})}u?(l=new u(f(n)),t.root._beforecreate.push(function(){var t={};void 0===n.step.isLoading&&(t.isLoading=1),void 0===n.step&&(t.step=1),void 0===n.section&&(t.section=1),l._bind(t,l.get())}),l._fragment.c(),l._mount(o.parentNode,o),l.on("stepSubmitted",d),t.refs.component=l):(l=null,t.refs.component===l&&(t.refs.component=null))}else u&&(l._set(s),a={})},i:function(t,e){s||this.m(t,e)},o:function(t){s&&(l&&l._fragment.o(t),s=!1)},d:function(t){t&&(c(i),c(o)),l&&l.destroy(t)}}}function gt(t){var o=this;D(this,t),this.refs={},this._state=e({templates:{Location:Y,Question:dt,ContactSubmit:vt}},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,o,s=[],a=k(),u=e.section.steps,f=function(t){return t.step.id},l=0;l<u.length;l+=1){var d=_t(e,u,l),h=f(d);s[l]=a[h]=mt(t,h,d)}return{c:function(){for(l=0;l<s.length;l+=1)s[l].c();n=p()},m:function(t,e){for(l=0;l<s.length;l+=1)s[l].i(t,e);r(t,n,e),o=!0},p:function(e,i){var o=i.section.steps;s=x(s,t,e,f,1,i,o,a,n.parentNode,q,mt,"i",n,_t)},i:function(t,e){o||this.m(t,e)},o:function(t){if(o){var e=i(t,s.length);for(l=0;l<s.length;l+=1)s[l].o(e);o=!1}},d:function(t){for(l=0;l<s.length;l+=1)s[l].d(t);t&&c(n)}}}(this,this._state),this.root._oncreate.push(function(){(function(){console.log(this.refs)}).call(o),o.fire("update",{changed:n({},o._state),current:o._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}function bt(t,e,n){var i=Object.create(t);return i.section=e[n],i}function wt(e,n){return{c:t,m:t,p:t,i:t,o:o,d:t}}function yt(t,e){var n,i,o=e.$interview&&qt(t,e);return{c:function(){o&&o.c(),n=p()},m:function(t,e){o&&o.m(t,e),r(t,n,e),i=!0},p:function(e,i){i.$interview?(o?o.p(e,i):(o=qt(t,i))&&o.c(),o.i(n.parentNode,n)):o&&o.o(function(){o.d(1),o=null})},i:function(t,e){i||this.m(t,e)},o:function(t){i&&(o?o.o(t):t(),i=!1)},d:function(t){o&&o.d(t),t&&c(n)}}}function qt(t,e){for(var n,o,s=[],a=k(),u=e.$interview.sections,f=function(t){return t.section.id},l=0;l<u.length;l+=1){var d=bt(e,u,l),h=f(d);s[l]=a[h]=kt(t,h,d)}return{c:function(){for(l=0;l<s.length;l+=1)s[l].c();n=p()},m:function(t,e){for(l=0;l<s.length;l+=1)s[l].i(t,e);r(t,n,e),o=!0},p:function(e,i){var o=i.$interview.sections;s=x(s,t,e,f,1,i,o,a,n.parentNode,q,kt,"i",n,bt)},i:function(t,e){o||this.m(t,e)},o:function(t){if(o){var e=i(t,s.length);for(l=0;l<s.length;l+=1)s[l].o(e);o=!1}},d:function(t){for(l=0;l<s.length;l+=1)s[l].d(t);t&&c(n)}}}function xt(t,e){var n,i={section:e.section,interview:e.$interview},o=new gt({root:t.root,store:t.store,data:i});return{c:function(){o._fragment.c()},m:function(t,e){o._mount(t,e),n=!0},p:function(t,e){var n={};t.$interview&&(n.section=e.section),t.$interview&&(n.interview=e.$interview),o._set(n)},i:function(t,e){n||this.m(t,e)},o:function(t){n&&(o&&o._fragment.o(t),n=!1)},d:function(t){o.destroy(t)}}}function kt(t,e,n){var i,o,s,a=n.section.steps.length>0&&xt(t,n);return{key:e,first:null,c:function(){i=p(),a&&a.c(),o=p(),this.first=i},m:function(t,e){r(t,i,e),a&&a.m(t,e),r(t,o,e),s=!0},p:function(e,n){n.section.steps.length>0?(a?a.p(e,n):(a=xt(t,n))&&a.c(),a.i(o.parentNode,o)):a&&a.o(function(){a.d(1),a=null})},i:function(t,e){s||this.m(t,e)},o:function(t){s&&(a?a.o(t):t(),s=!1)},d:function(t){t&&c(i),a&&a.d(t),t&&c(o)}}}function Lt(e,n){return{c:t,m:t,p:t,i:t,o:o,d:t}}function St(t){var n,o,s,a,u,f,p;D(this,t),this.store=J,this._state=e(this.store._init(["interview"]),t.data),this.store._add(this,["interview"]),this._intro=!!t.intro,this._handlers.destroy=[j],this._fragment=(n=this,o=this._state,p={component:n,ctx:o,current:null,pending:Lt,then:yt,catch:wt,value:"success",error:"null",blocks:Array(3)},w(s=o.$interview,p),{c:function(){p.block.c(),a=d("\n\n"),(u=l("div")).className="footer-displacer svelte-1qo0hz8"},m:function(t,e){p.block.i(t,p.anchor=e),p.mount=function(){return a.parentNode},r(t,a,e),r(t,u,e),f=!0},p:function(t,n){o=n,p.ctx=o,"$interview"in t&&s!==(s=o.$interview)&&w(s,p)||p.block.p(t,e(e({},o),p.resolved))},i:function(t,e){f||this.m(t,e)},o:function(t){if(f){for(var e=i(t,3),n=0;n<3;n+=1){var o=p.blocks[n];o?o.o(e):e()}f=!1}},d:function(t){p.block.d(t),p=null,t&&(c(a),c(u))}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),I(this)),this._intro=!0}return e(dt.prototype,P),e(dt.prototype,{doSomething:function(){var t=this.get(),e=t.step,n=t.section;this.store.stepSubmitted(e,n)}}),e(vt.prototype,P),e(gt.prototype,P),e(St.prototype,P),new St({target:document.body,data:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
