var app=function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){return 0===e&&t(),()=>{--e||t()}}function o(t){t()}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n)}function r(t){t.parentNode.removeChild(t)}function a(t,e,n){for(;t.nextSibling&&t.nextSibling!==e;)n.appendChild(t.parentNode.removeChild(t.nextSibling))}function u(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(){return document.createDocumentFragment()}function h(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function d(){return document.createComment("")}function f(t,e,n,o){t.addEventListener(e,n,o)}function p(t,e,n,o){t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function v(t,e){t.data=""+e}function g(t,e){for(var n=0;n<t.options.length;n+=1){var o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function q(t,n){var o,s=n.token={};function i(t,o,i,r){if(n.token!==s)return;n.resolved=i&&{[i]:r};const a=e(e({},n.ctx),n.resolved),u=t&&(n.current=t)(n.component,a);n.block&&(n.blocks?n.blocks.forEach((t,e)=>{e!==o&&t&&t.o(()=>{t.d(1),n.blocks[e]=null})}):n.block.d(1),u.c(),u[u.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=u,n.blocks&&(n.blocks[o]=u)}if((o=t)&&"function"==typeof o.then){if(t.then(t=>{i(n.then,1,n.value,t)},t=>{i(n.catch,2,n.error,t)}),n.current!==n.pending)return i(n.pending,0),!0}else{if(n.current!==n.then)return i(n.then,1,n.value,t),!0;n.resolved={[n.value]:t}}}function w(){return Object.create(null)}function b(t){t._lock=!0,x(t._beforecreate),x(t._oncreate),x(t._aftercreate),t._lock=!1}function I(t,e){t._handlers=w(),t._slots=w(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function x(t){for(;t&&t.length;)t.shift()()}var D={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var s=n[o];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||b(this.root)},_recompute:t,_set:function(t){var n=this._state,o={},s=!1;for(var i in t=e(this._staged,t),this._staged={},t)this._differs(t[i],n[i])&&(o[i]=s=!0);s&&(this._state=e(e({},n),t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:n}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};function E(n){var c,l,f,p,m,v,g,q,w,b,x,D,E,y,T,k,N;I(this,n),this._state=e({},n.data),this._intro=!!n.intro,this._slotted=n.slots||{},this._fragment=(c=this,this._state,T=c._slotted.heading,k=c._slotted.body,N=c._slotted.footer,{c(){l=h("div"),f=h("div"),p=h("div"),T||((m=h("div")).textContent="Heading"),v=_("\r\n    "),w=_("\r\n    "),b=h("div"),N||((x=h("a")).textContent="Previous",D=_("\r\n        "),(E=h("a")).textContent="Next"),p.className="card-heading svelte-98rrxd",N||(x.href="/previous-step",E.className="bs-btn",E.href="/next-step"),b.className="card-footer svelte-98rrxd",f.className="card-section svelte-98rrxd",l.className="bs-card white svelte-98rrxd"},m(t,e){i(t,l,e),s(l,f),s(f,p),s(p,T||m),s(f,v),k&&(s(f,g||(g=d())),s(f,k),s(f,q||(q=d()))),s(f,w),s(f,b),N?s(b,N):(s(b,x),s(b,D),s(b,E)),y=!0},p:t,i(t,e){y||this.m(t,e)},o:o,d(t){t&&r(l),T&&u(p,T),k&&(a(g,q,k),r(g),r(q)),N&&u(b,N)}}),n.target&&(this._fragment.c(),this._mount(n.target,n.anchor)),this._intro=!0}function y(t,e,n){const o=Object.create(t);return o.answerID=e[n].answerID,o.answerText=e[n].answerText,o}function T(t,e){var n,o,a,u,c,l,d,g,q,w,b=e.answerText;function I(){e.question.value=o.__value,t.set({question:e.question})}return{c(){n=h("div"),o=h("input"),l=_("\r\n\t\t"),d=h("label"),g=_(b),w=_("\r\n\t"),t._bindingGroups[0].push(o),f(o,"change",I),m(o,"type","radio"),o.id=a=e.answerID,o.__value=u=e.answerID,o.value=o.__value,o.name=c="radio_"+e.question.questionID,d.htmlFor=q=e.answerID,d.className="svelte-5jml85"},m(t,r){i(t,n,r),s(n,o),o.checked=o.__value===e.question.value,s(n,l),s(n,d),s(d,g),s(n,w)},p(t,n){e=n,t.question&&(o.checked=o.__value===e.question.value),t.question&&a!==(a=e.answerID)&&(o.id=a),t.question&&u!==(u=e.answerID)&&(o.__value=u),o.value=o.__value,t.question&&c!==(c="radio_"+e.question.questionID)&&(o.name=c),t.question&&b!==(b=e.answerText)&&v(g,b),t.question&&q!==(q=e.answerID)&&(d.htmlFor=q)},d(e){e&&r(n),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(o),1),p(o,"change",I)}}}function k(t){I(this,t),this._state=e({},t.data),this._bindingGroups=[[]],this._intro=!!t.intro,this._fragment=function(t,e){for(var n,s,a=e.question.answerElements,u=[],l=0;l<a.length;l+=1)u[l]=T(t,y(e,a,l));return{c(){for(var t=0;t<u.length;t+=1)u[t].c();n=d()},m(t,e){for(var o=0;o<u.length;o+=1)u[o].m(t,e);i(t,n,e),s=!0},p(e,o){if(e.question){a=o.question.answerElements;for(var s=0;s<a.length;s+=1){const i=y(o,a,s);u[s]?u[s].p(e,i):(u[s]=T(t,i),u[s].c(),u[s].m(n.parentNode,n))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}},i(t,e){s||this.m(t,e)},o:o,d(t){c(u,t),t&&r(n)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}e(E.prototype,D),e(k.prototype,D);var N={updateValue(t){t.value=t.answerElements.filter(t=>t.checked).map(t=>t.answerID).join(","),this.set({question:t})}};function O(t){const{component:e,ctx:n}=this._svelte;e.updateValue(n.question)}function S(t,e,n){const o=Object.create(t);return o.answerID=e[n].answerID,o.answerText=e[n].answerText,o.checked=e[n].checked,o.each_value=e,o.each_index=n,o}function C(t,e){var n,o,a,u,c,l,d,g,q,w=e.answerText;function b(){e.each_value[e.each_index].checked=o.checked,t.set({question:e.question})}return{c(){n=h("div"),o=h("input"),c=_("\r\n    "),l=h("label"),d=_(w),q=_("\r\n  "),o._svelte={component:t,ctx:e},f(o,"change",b),f(o,"change",O),m(o,"type","checkbox"),o.id=a=e.answerID,o.__value=u=e.answerID,o.value=o.__value,l.htmlFor=g=e.answerID,l.className="svelte-1vp3xsv"},m(t,r){i(t,n,r),s(n,o),o.checked=e.checked,s(n,c),s(n,l),s(l,d),s(n,q)},p(t,n){e=n,o._svelte.ctx=e,t.question&&(o.checked=e.checked),t.question&&a!==(a=e.answerID)&&(o.id=a),t.question&&u!==(u=e.answerID)&&(o.__value=u),o.value=o.__value,t.question&&w!==(w=e.answerText)&&v(d,w),t.question&&g!==(g=e.answerID)&&(l.htmlFor=g)},d(t){t&&r(n),p(o,"change",b),p(o,"change",O)}}}function L(t){I(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,s,a=e.question.answerElements,u=[],l=0;l<a.length;l+=1)u[l]=C(t,S(e,a,l));return{c(){for(var t=0;t<u.length;t+=1)u[t].c();n=d()},m(t,e){for(var o=0;o<u.length;o+=1)u[o].m(t,e);i(t,n,e),s=!0},p(e,o){if(e.question){a=o.question.answerElements;for(var s=0;s<a.length;s+=1){const i=S(o,a,s);u[s]?u[s].p(e,i):(u[s]=C(t,i),u[s].c(),u[s].m(n.parentNode,n))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}},i(t,e){s||this.m(t,e)},o:o,d(t){c(u,t),t&&r(n)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}function A(t,e,n){const o=Object.create(t);return o.answerID=e[n].answerID,o.answerText=e[n].answerText,o}function R(t,e){var n,o,a,u,c=e.answerText;return{c(){n=h("option"),o=_(c),a=_("\t\t\r\n\t\t"),n.__value=u=e.answerID,n.value=n.__value},m(t,e){i(t,n,e),s(n,o),s(n,a)},p(t,e){t.question&&c!==(c=e.answerText)&&v(o,c),t.question&&u!==(u=e.answerID)&&(n.__value=u),n.value=n.__value},d(t){t&&r(n)}}}function j(t){I(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var n,s,a,u=!1,l=e.question.answerElements,_=[],d=0;d<l.length;d+=1)_[d]=R(0,A(e,l,d));function m(){u=!0,e.question.value=function(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(n),t.set({question:e.question}),u=!1}return{c(){n=h("select");for(var o=0;o<_.length;o+=1)_[o].c();f(n,"change",m),"question"in e||t.root._beforecreate.push(m),n.id=s=e.question.questionId},m(t,o){i(t,n,o);for(var s=0;s<_.length;s+=1)_[s].m(n,null);g(n,e.question.value),a=!0},p(t,o){if(e=o,t.question){l=e.question.answerElements;for(var i=0;i<l.length;i+=1){const o=A(e,l,i);_[i]?_[i].p(t,o):(_[i]=R(0,o),_[i].c(),_[i].m(n,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=l.length}!u&&t.question&&g(n,e.question.value),t.question&&s!==(s=e.question.questionId)&&(n.id=s)},i(t,e){a||this.m(t,e)},o:o,d(t){t&&r(n),c(_,t),p(n,"change",m)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),b(this)),this._intro=!0}function G(t){I(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,s,a,u=!1;function c(){u=!0,e.question.value=n.value,t.set({question:e.question}),u=!1}return{c(){f(n=h("input"),"input",c),m(n,"type","text"),n.placeholder=s=e.question.placeholder},m(t,o){i(t,n,o),n.value=e.question.value,a=!0},p(t,o){e=o,!u&&t.question&&(n.value=e.question.value),t.question&&s!==(s=e.question.placeholder)&&(n.placeholder=s)},i(t,e){a||this.m(t,e)},o:o,d(t){t&&r(n),p(n,"input",c)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}function B(t,e){var n,a,u,c,l,d,f,p,m=e.question.presentationType;return{c(){n=h("p"),a=h("strong"),u=_("Need to define mapping for "),c=h("em"),l=_('"'),d=_(m),f=_('"'),n.className="svelte-1lp21kb"},m(t,e){i(t,n,e),s(n,a),s(a,u),s(a,c),s(c,l),s(c,d),s(c,f),p=!0},p(t,e){t.question&&m!==(m=e.question.presentationType)&&v(d,m)},i(t,e){p||this.m(t,e)},o:o,d(t){t&&r(n)}}}function F(t,e){var n,o,a,u,c,l,d,f={},p=e.question.value,m=e.templates[e.question.presentationType];function g(e){var n={name:"Question"};return void 0!==e.question&&(n.question=e.question,f.question=!0),{root:t.root,store:t.store,data:n,_bind(e,n){var o={};!f.question&&e.question&&(o.question=n.question),t._set(o),f={}}}}if(m){var q=new m(g(e));t.root._beforecreate.push(()=>{q._bind({question:1},q.get())})}return{c(){n=h("div"),q&&q._fragment.c(),o=_("\r\n    "),a=h("p"),(u=h("strong")).textContent="Answer:",c=_(" "),l=_(p),n.className="question-container svelte-1lp21kb",a.className="svelte-1lp21kb"},m(t,e){i(t,n,e),q&&q._mount(n,null),i(t,o,e),i(t,a,e),s(a,u),s(a,c),s(a,l),d=!0},p(o,s){e=s;var i={};if(!f.question&&o.question&&(i.question=e.question,f.question=void 0!==e.question),m!==(m=e.templates[e.question.presentationType])){if(q){const t=q;t._fragment.o(()=>{t.destroy()})}m?(q=new m(g(e)),t.root._beforecreate.push(()=>{const t={};void 0===e.question&&(t.question=1),q._bind(t,q.get())}),q._fragment.c(),q._mount(n,null)):q=null}else m&&(q._set(i),f={});d&&!o.question||p===(p=e.question.value)||v(l,p)},i(t,e){d||this.m(t,e)},o(t){d&&(q&&q._fragment.o(t),d=!1)},d(t){t&&r(n),q&&q.destroy(),t&&(r(o),r(a))}}}function P(t){I(this,t),this._state=e({templates:{DROP_LIST:j,DROP_LIST_RIGHT_ADJUSTED:j,CHECK_BOX:L,RADIO_ONEPER_LINE:k,RADIO_SINGLE_LINE:k,RADIO_BUTTON:k,RADIO_SINGLE_LINE_LEFT:k,TEXT_BOX_ZIPCODE:G,TEXT_BOX_LEFT_ADJUSTED:G}},t.data),this._intro=!!t.intro,this._fragment=function(t,e){var n,o,s,a,u=[F,B],c=[];function l(t){return t.templates[t.question.presentationType]?0:1}return o=l(e),s=c[o]=u[o](t,e),{c(){n=h("div"),s.c()},m(t,e){i(t,n,e),c[o].m(n,null),a=!0},p(e,i){var r=o;(o=l(i))===r?c[o].p(e,i):(s.o(function(){c[r].d(1),c[r]=null}),(s=c[o])||(s=c[o]=u[o](t,i)).c(),s.m(n,null))},i(t,e){a||this.m(t,e)},o(t){a&&(s?s.o(t):t(),a=!1)},d(t){t&&r(n),c[o].d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),b(this)),this._intro=!0}function X(t,e){var n,o,s,u=t._slotted.error;return{c(){u||((s=h("h1")).textContent="Error!")},m(t,e){u?(i(t,n||(n=d()),e),i(t,u,e),i(t,o||(o=d()),e)):i(t,s,e)},d(t){u?(a(n,o,u),r(n),r(o)):t&&r(s)}}}function H(e,n){var o,s,u=e._slotted.loaded;return{c:t,m(t,e){u&&(i(t,o||(o=d()),e),i(t,u,e),i(t,s||(s=d()),e))},d(t){u&&(a(o,s,u),r(o),r(s))}}}function Q(t,e){var n,o,s,u=t._slotted.loading;return{c(){u||((s=h("div")).textContent="Loading...")},m(t,e){u?(i(t,n||(n=d()),e),i(t,u,e),i(t,o||(o=d()),e)):i(t,s,e)},d(t){u?(a(n,o,u),r(n),r(o)):t&&r(s)}}}function U(t){I(this,t),this._state=e({},t.data),this._intro=!!t.intro,this._slotted=t.slots||{},this._fragment=function(t,e){var n,s,a;let u={component:t,ctx:e,current:null,pending:Q,then:H,catch:X,value:"success",error:"error"};return q(s=e.promise,u),{c(){n=d(),u.block.c()},m(t,e){i(t,n,e),u.block.m(t,u.anchor=e),u.mount=(()=>n.parentNode),a=!0},p(t,n){e=n,u.ctx=e,"promise"in t&&s!==(s=e.promise)&&q(s,u)},i(t,e){a||this.m(t,e)},o:o,d(t){t&&r(n),u.block.d(t),u=null}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}e(L.prototype,D),e(L.prototype,N),e(j.prototype,D),e(G.prototype,D),e(P.prototype,D),e(U.prototype,D);let J=t=>{let[e,n]=t;return{info:n,interviewSteps:e.questionElements.map(t=>(t.presentationType=t.answerElements[0].presentationType,t.value="",t.valid=!1,t.stepType="interviewQuestion",t.questionID=`ques_${t.questionID}`,t.answerElements.forEach(t=>t.answerID=`ans_${t.answerID}`),(t=>{switch(t.presentationType){case"CHECK_BOX":t.answerElements.forEach(t=>t.checked=!1);break;case"RADIO_ONEPER_LINE":case"RADIO_SINGLE_LINE":case"RADIO_BUTTON":case"RADIO_SINGLE_LINE_LEFT":t.value=t.answerElements[0].answerID}return t})(t)))}};function K(t,e,n){const o=Object.create(t);return o.step=e[n],o.each_value=e,o.step_index=n,o}function V(t,e){var o,i,r,a,u,c,d=e.step.questionText,f={},p={};void 0!==e.step&&(p.question=e.step,f.question=!0);var g=new P({root:t.root,store:t.store,data:p,_bind(n,o){var s={};!f.question&&n.question&&(e.each_value[e.step_index]=o.question=o.question,s.interviewSteps=e.interviewSteps),t._set(s),f={}}});t.root._beforecreate.push(()=>{g._bind({question:1},g.get())});var q=new E({root:t.root,store:t.store,slots:{default:l(),body:l(),heading:l()}});return{c(){o=h("div"),i=_(d),r=_("\r\n\t\t\t\t\t"),a=h("div"),g._fragment.c(),u=_("\r\n\t\t\t\t"),q._fragment.c(),m(o,"slot","heading"),m(a,"slot","body")},m(t,e){s(q._slotted.heading,o),s(o,i),s(q._slotted.default,r),s(q._slotted.body,a),g._mount(a,null),s(q._slotted.default,u),q._mount(t,e),c=!0},p(t,n){e=n,c&&!t.interviewSteps||d===(d=e.step.questionText)||v(i,d);var o={};!f.question&&t.interviewSteps&&(o.question=e.step,f.question=void 0!==e.step),g._set(o),f={}},i(t,e){c||this.m(t,e)},o(t){c&&(t=n(t,2),g&&g._fragment.o(t),q&&q._fragment.o(t),c=!1)},d(t){g.destroy(),q.destroy(t)}}}function $(t,e){var n,o,s="interviewQuestion"==e.step.stepType&&V(t,e);return{c(){s&&s.c(),n=d()},m(t,e){s&&s.m(t,e),i(t,n,e),o=!0},p(e,o){"interviewQuestion"==o.step.stepType?(s?s.p(e,o):(s=V(t,o))&&s.c(),s.i(n.parentNode,n)):s&&s.o(function(){s.d(1),s=null})},i(t,e){o||this.m(t,e)},o(t){o&&(s?s.o(t):t(),o=!1)},d(t){s&&s.d(t),t&&r(n)}}}function Z(t){I(this,t),this._state=e({interviewSteps:[]},t.data),this._intro=!!t.intro,this._fragment=function(t,e){for(var o,i,r={},a=e.interviewSteps,u=[],_=0;_<a.length;_+=1)u[_]=$(t,K(e,a,_));function d(t,e,n){u[t]&&u[t].o(()=>{e&&(u[t].d(e),u[t]=null),n&&n()})}var f={};void 0!==e.promise&&(f.promise=e.promise,r.promise=!0);var p=new U({root:t.root,store:t.store,slots:{default:l(),loaded:l()},data:f,_bind(e,n){var o={};!r.promise&&e.promise&&(o.promise=n.promise),t._set(o),r={}}});return t.root._beforecreate.push(()=>{p._bind({promise:1},p.get())}),{c(){o=h("span");for(var t=0;t<u.length;t+=1)u[t].c();p._fragment.c(),m(o,"slot","loaded")},m(t,e){s(p._slotted.loaded,o);for(var n=0;n<u.length;n+=1)u[n].i(o,null);p._mount(t,e),i=!0},p(n,s){if(e=s,n.interviewSteps){a=e.interviewSteps;for(var i=0;i<a.length;i+=1){const s=K(e,a,i);u[i]?u[i].p(n,s):(u[i]=$(t,s),u[i].c()),u[i].i(o,null)}for(;i<u.length;i+=1)d(i,1)}var c={};!r.promise&&n.promise&&(c.promise=e.promise,r.promise=void 0!==e.promise),p._set(c),r={}},i(t,e){i||this.m(t,e)},o(t){if(!i)return;t=n(t,2);const e=n(t,(u=u.filter(Boolean)).length);for(let t=0;t<u.length;t+=1)d(t,0,e);p&&p._fragment.o(t),i=!1},d(t){c(u,t),p.destroy(t)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){let t=fetch("/data/interview.json"),e=fetch("/data/taskInfo.json");this.set({promise:Promise.all([t,e]).then(t=>Promise.all(t.map(t=>t.json()))).then().then(t=>{this.set(J(t))}).catch(t=>{console.log(t)})})}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),b(this)),this._intro=!0}return e(Z.prototype,D),new Z({target:document.body,data:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
