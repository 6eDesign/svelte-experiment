{#each section.steps as step (step.id)}
  <svelte:component 
    this="{templates[section.component]}" 
    bind:isLoading=step.isLoading
    bind:step 
    bind:section 
    on:stepSubmitted
    ref:component />
{/each}

<script>
  import Location from './sections/Location.html';
  import Question from './sections/Question.html';
  import ContactSubmit from './sections/ContactSubmit.html';
  export default { 
    oncreate(){
      console.log(this.refs);
    },
    data() { 
      return { 
        templates: { 
          Location, 
          Question, 
          ContactSubmit
        }
      }
    }
  }
</script>